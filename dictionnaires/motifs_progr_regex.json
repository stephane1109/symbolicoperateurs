{
  "name": "motifs_progr_regex",
  "description": "Motifs regex (bornés à la ponctuation) pour détecter des structures de type programmation (condition, branchement, séquençage) dans un corpus en minuscules.",
  "assumptions": {
    "text_case": "lowercase",
    "punctuation_present": true,
    "sentence_boundary_regex_class": "[^.!?;:\\n]"
  },
  "patterns": [
    {
      "id": "if_then_same_sentence",
      "label": "si … alors",
      "category": "IF_THEN",
      "regex": "\\bsi\\b[^.!?;:\\n]{0,120}\\balors\\b",
      "scope": "sentence",
      "notes": "Structure conditionnelle explicite IF–THEN. Ajuster {0,120} si phrases plus longues."
    },
    {
      "id": "if_and_optional_then_same_sentence",
      "label": "si … et … (alors)",
      "category": "IF_AND",
      "regex": "\\bsi\\b[^.!?;:\\n]{0,120}\\bet\\b[^.!?;:\\n]{0,120}(?:\\balors\\b)?",
      "scope": "sentence",
      "notes": "Cumul de conditions (AND). 'alors' optionnel."
    },
    {
      "id": "if_or_optional_then_same_sentence",
      "label": "si … ou … (alors)",
      "category": "IF_OR",
      "regex": "\\bsi\\b[^.!?;:\\n]{0,120}\\bou\\b[^.!?;:\\n]{0,120}(?:\\balors\\b)?",
      "scope": "sentence",
      "notes": "Alternative dans la condition (OR). 'alors' optionnel."
    },
    {
      "id": "if_then_else_same_sentence",
      "label": "si … alors … sinon",
      "category": "IF_THEN_ELSE",
      "regex": "\\bsi\\b[^.!?;:\\n]{0,160}\\balors\\b[^.!?;:\\n]{0,160}\\bsinon\\b",
      "scope": "sentence",
      "notes": "Bifurcation explicite IF–THEN–ELSE."
    },
    {
      "id": "procedure_dabord_puis_ensuite_same_sentence",
      "label": "d’abord … puis … (ensuite)",
      "category": "PROCEDURE",
      "regex": "\\bd[’']?\\s*abord\\b[^.!?;:\\n]{0,200}\\bpuis\\b(?:[^.!?;:\\n]{0,200}\\bensuite\\b)?",
      "scope": "sentence",
      "notes": "Séquençage procédural (checklist). Compatible avec d'abord / d’abord."
    }
  ]
}
